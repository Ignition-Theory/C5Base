(function(a){function k(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end);g.call(b)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c);g.call(b)})}function g(){this.$element.hide().trigger("hidden");h.call(this)}function h(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.options.backdrop!="static"&&
this.$backdrop.click(a.proxy(this.hide,this));this.$backdrop.addClass("in");d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(i,this)):i.call(this)):b&&b()}function i(){this.$backdrop.remove();this.$backdrop=null}function j(){var b=this;if(this.isShown&&this.options.keyboard)a(document).on("keyup.dismiss.modal",function(a){a.which==
27&&b.hide()});else this.isShown||a(document).off("keyup.dismiss.modal")}var f=function(b,c){this.options=a.extend({},a.fn.modal.defaults,c);this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};f.prototype={constructor:f,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var b=this;if(!this.isShown)a("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),j.call(this),h.call(this,function(){var c=a.support.transition&&
b.$element.hasClass("fade");!b.$element.parent().length&&b.$element.appendTo(document.body);b.$element.show();b.$element.addClass("in");c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();if(this.isShown)this.isShown=!1,a("body").removeClass("modal-open"),j.call(this),this.$element.trigger("hide").removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?k.call(this):g.call(this)}};a.fn.modal=
function(b){return this.each(function(){var c=a(this),d=c.data("modal"),e=typeof b=="object"&&b;d||c.data("modal",d=new f(this,e));if(typeof b=="string")d[b]();else d.show()})};a.fn.modal.defaults={backdrop:!0,keyboard:!0};a.fn.modal.Constructor=f;a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),c=e.data("modal")?"toggle":a.extend({},e.data(),c.data());b.preventDefault();
e.modal(c)})})})(window.jQuery);
